!function(){"use strict";var n,t={661:function(n,t,e){var i,o=e(311);!function(n){n.SYMBOL_9="9",n.SYMBOL_10="10",n.SYMBOL_A="A",n.SYMBOL_J="J",n.SYMBOL_Q="Q",n.SYMBOL_K="K"}(i||(i={}));var r=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.container=new o.Container,this.slotImage=new o.Graphics,this.bounds=new o.Rectangle(0,0,0,0),this.app=t,this.container.sortableChildren=!0}var t=n.prototype;return t.getContainer=function(){return this.container},t.createSlotImage=function(n){this.slotImage.beginFill(0),this.slotImage.drawRect(0,0,200*n,1e3),this.slotImage.endFill(),this.slotImage.alpha=1,this.container.addChild(this.slotImage)},t.calculateBounds=function(){this.container.calculateBounds(),this.bounds=this.container.getBounds()},t.resize=function(n,t){var e=Math.min(.75*n/this.bounds.width,.75*t/this.bounds.height);this.container.scale.set(e),this.container.pivot.x=this.bounds.width/2,this.container.pivot.y=this.bounds.height/2,this.container.x=n/2,this.container.y=t/2},n}();function s(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}var a=function(){function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._reels=[],this._isSpinning=!1,this._reelCount=0}var t,e;return n.prototype.addReel=function(n){this._reels.push(n)},t=n,(e=[{key:"reelCount",get:function(){return this._reelCount},set:function(n){this._reelCount=n}},{key:"reels",get:function(){return this._reels}},{key:"isSpinning",get:function(){return this._isSpinning},set:function(n){this._isSpinning=n}}])&&s(t.prototype,e),n}();function u(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}var c=function(){function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._isSpinning=!1,this._spinProgress=0,this._canStopSpin=!1,this._stopData="",this._speed=.2,this._rowIndex=0,this._symbols=[]}var t,e;return n.prototype.addSymbol=function(n){this._symbols.push(n)},t=n,(e=[{key:"isSpinning",get:function(){return this._isSpinning},set:function(n){this._isSpinning=n}},{key:"canStopSpin",get:function(){return this._canStopSpin},set:function(n){this._canStopSpin=n}},{key:"spinProgress",get:function(){return this._spinProgress},set:function(n){this._spinProgress=n}},{key:"stopData",get:function(){return this._stopData},set:function(n){this._stopData=n}},{key:"speed",get:function(){return this._speed},set:function(n){this._speed=n}},{key:"rowIndex",get:function(){return this._rowIndex},set:function(n){this._rowIndex=n}},{key:"symbols",get:function(){return this._symbols}}])&&u(t.prototype,e),n}();function l(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}var h=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.container=new o.Container,this._symbols=[],this.container.sortableChildren=!0,t.addChild(this.container);var e=new o.Graphics;e.beginFill(16711935),e.drawRect(0,0,200,1e3),e.endFill(),e.alpha=1,this.container.addChild(e)}var t,e,i=n.prototype;return i.getYPosition=function(n){return 200*n+10*n},i.getMaxSymbolPosition=function(){return 1040},i.adjustPosition=function(n,t){this.container.x=n,this.container.y=t},i.getContainer=function(){return this.container},t=n,(e=[{key:"symbols",get:function(){return this._symbols}}])&&l(t.prototype,e),n}();function f(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}var d=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._tourCount=0,this._columnIndex=t}var t,e;return t=n,(e=[{key:"columnIndex",get:function(){return this._columnIndex},set:function(n){this._columnIndex=n}},{key:"tourCount",get:function(){return this._tourCount},set:function(n){this._tourCount=n}}])&&f(t.prototype,e),n}(),p=e(358);function m(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}var y=function(){function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._container=new o.Container,this.symbolImage=new o.Sprite,this.createSymbol()}var t,e,r=n.prototype;return r.createSymbol=function(){var n=this.getRandomSymbol();this.symbolImage.texture=o.Texture.from(n),this.symbolImage.anchor.set(.5),this._container.addChild(this.symbolImage)},r.changeToSymbol=function(n){this.symbolImage.texture=o.Texture.from(n)},r.changeToRandomSymbol=function(){this.symbolImage.texture=o.Texture.from(this.getRandomSymbol())},r.getRandomSymbol=function(){var n=Object.values(i);return n[Math.floor(Math.random()*n.length)]},r.animateSymbol=function(){p.p8.to(this.symbolImage,{duration:.35,pixi:{scale:1.25},ease:"sine.inOut",yoyo:!0,repeat:1})},r.removeAnimation=function(){p.p8.killTweensOf(this.symbolImage),this.symbolImage.scale.set(1)},r.adjustPosition=function(n,t){this.symbolImage.x=n+this.symbolImage.width/2,this.symbolImage.y=t+this.symbolImage.height/2},r.getPosition=function(){return new o.Point(this.symbolImage.x,this.symbolImage.y)},t=n,(e=[{key:"container",get:function(){return this._container}}])&&m(t.prototype,e),n}(),g=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._view=new y,this._model=new d(t)}var t=n.prototype;return t.getTourCount=function(){return this._model.tourCount},t.setTourCount=function(n){this._model.tourCount=n},t.changeToSymbol=function(n){this._view.changeToSymbol(n)},t.changeToRandomSymbol=function(){this._view.changeToRandomSymbol()},t.adjustPosition=function(n,t){this._view.adjustPosition(n,t)},t.updateColumnIndex=function(n){this._model.columnIndex=n},t.getContainer=function(){return this._view.container},n}(),b=function(){function n(t,e){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._rowIndex=e,this._ticker=o.Ticker.shared,this._model=new c,this._view=new h(t),this._model.rowIndex=e,this.createSymbols()}var t=n.prototype;return t.adjustPosition=function(n,t){this._view.adjustPosition(n,t)},t.getContainer=function(){return this._view.getContainer()},t.createSymbols=function(){for(var n=0;n<5;n++){var t=new g(n);t.adjustPosition(0,this._view.getYPosition(n)),this._view.getContainer().addChild(t.getContainer()),this._model.addSymbol(t)}},t.setSpeed=function(n){this._model.speed=n},t.setStopData=function(n){this._model.stopData=n},t.startSpinning=function(){var n=this;return new Promise((function(t,e){n._model.spinProgress=0,n._model.isSpinning=!0;var i=function(o){n.spin(o).then((function(){n._ticker.remove(i,n),t()})).catch((function(t){n._ticker.remove(i,n),e(t)}))};n._ticker.add(i,n)}))},t.spin=function(n){var t=this;return new Promise((function(e,o){t._model.spinProgress+=n*t._model.speed*.03;var r=function(n){var t=0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-.2,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1.2,o=1,r=function(n){return Math.pow(1-n,3)*t+3*Math.pow(1-n,2)*n*e+3*(1-n)*Math.pow(n,2)*i+Math.pow(n,3)*o};return r(n)}(t._model.spinProgress);t._model.spinProgress>=1&&(t._model.spinProgress=1,r=1);var s,a=(0,0*(1-(s=r))+s*(5*t._view.getMaxSymbolPosition()));t._model.symbols.forEach((function(n,e){var o=a+210*e;Math.floor(o/t._view.getMaxSymbolPosition())>=n.getTourCount()+1&&(n.setTourCount(n.getTourCount()+1),5==n.getTourCount()&&2==e?n.changeToSymbol(i[t._model.stopData]):n.changeToRandomSymbol()),o%=t._view.getMaxSymbolPosition(),n.adjustPosition(0,o)})),t._model.spinProgress>=1&&(t.stopSpinning(),e())}))},t.stopSpinning=function(){this._model.isSpinning=!1,this._model.stopData="",this._model.symbols.forEach((function(n){n.setTourCount(0)})),this._ticker.remove(this.spin,this)},n}();function v(n,t,e,i,o,r,s){try{var a=n[r](s),u=a.value}catch(n){return void e(n)}a.done?t(u):Promise.resolve(u).then(i,o)}function w(n){return function(){var t=this,e=arguments;return new Promise((function(i,o){var r=n.apply(t,e);function s(n){v(r,i,o,s,a,"next",n)}function a(n){v(r,i,o,s,a,"throw",n)}s(void 0)}))}}function _(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}var S=function(n,t){var e,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(e)throw new TypeError("Generator is already executing.");for(;s;)try{if(e=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(n,s)}catch(n){r=[6,n],i=0}finally{e=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},C=function(){function n(t){var e=this;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.app=t,this._model=new a,this._view=new r(t),this._model.reelCount=5,this.view.createSlotImage(this._model.reelCount),this.createReels(this._model.reelCount),this.view.calculateBounds(),window.addEventListener("keydown",(function(n){32===n.keyCode&&e.spin()}))}var t,e,i=n.prototype;return i.createReels=function(n){for(var t=0;t<n;t++){var e=new b(this.view.getContainer(),t);e.adjustPosition(200*t,0),this.view.getContainer().addChild(e.getContainer()),this._model.addReel(e)}},i.spin=function(){var n=this;return w((function(){var t;return S(this,(function(e){switch(e.label){case 0:return n._model.isSpinning?[2,Promise.reject("Already spinning")]:(n._model.isSpinning=!0,t=n._model.reels.map((function(n,t){return new Promise((function(e){p.ZP.delayedCall(.2*t,(function(){n.setSpeed(.2),n.setStopData("SYMBOL_9"),n.startSpinning().then((function(){return e()}))}))}))})),[4,Promise.all(t)]);case 1:return e.sent(),n.completeSpin(),[2]}}))}))()},i.checkWin=function(){return w((function(){return S(this,(function(n){return[2]}))}))()},i.completeSpin=function(){this._model.isSpinning=!1},i.resize=function(n,t){this.view.resize(n,t)},t=n,(e=[{key:"view",get:function(){return this._view}}])&&_(t.prototype,e),n}(),P=e(607);function k(n,t,e,i,o,r,s){try{var a=n[r](s),u=a.value}catch(n){return void e(n)}a.done?t(u):Promise.resolve(u).then(i,o)}function x(n){return function(){var t=this,e=arguments;return new Promise((function(i,o){var r=n.apply(t,e);function s(n){k(r,i,o,s,a,"next",n)}function a(n){k(r,i,o,s,a,"throw",n)}s(void 0)}))}}var I=function(n,t){var e,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(e)throw new TypeError("Generator is already executing.");for(;s;)try{if(e=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(n,s)}catch(n){r=[6,n],i=0}finally{e=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},T=new o.Application({backgroundColor:1700773,backgroundAlpha:0,width:800,height:800});function O(){return j.apply(this,arguments)}function j(){return(j=x((function(){return I(this,(function(n){return[2,new Promise((function(n,t){var e=o.Loader.shared;e.add("atlas","./assets/atlas.json"),e.onComplete.once((function(){n()})),e.onError.once((function(){t()})),e.load()}))]}))}))).apply(this,arguments)}P.Z.registerPIXI(o),p.ZP.registerPlugin(P.Z),window.onload=x((function(){var n,t;return I(this,(function(e){switch(e.label){case 0:return[4,O()];case 1:return e.sent(),document.body.appendChild(T.view),T.stage.sortableChildren=!0,n=new C(T),T.stage.addChild(n.view.getContainer()),(t=function(){var t=document.body.clientWidth,e=document.body.clientHeight;T.renderer.resize(t,e),n.resize(t,e)})(),setTimeout(t,10),window.addEventListener("resize",t),T.stage.interactive=!0,[2]}}))}))}},e={};function i(n){var o=e[n];if(void 0!==o)return o.exports;var r=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}i.m=t,n=[],i.O=function(t,e,o,r){if(!e){var s=1/0;for(l=0;l<n.length;l++){e=n[l][0],o=n[l][1],r=n[l][2];for(var a=!0,u=0;u<e.length;u++)(!1&r||s>=r)&&Object.keys(i.O).every((function(n){return i.O[n](e[u])}))?e.splice(u--,1):(a=!1,r<s&&(s=r));if(a){n.splice(l--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var l=n.length;l>0&&n[l-1][2]>r;l--)n[l]=n[l-1];n[l]=[e,o,r]},i.d=function(n,t){for(var e in t)i.o(t,e)&&!i.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),i.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},i.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.nmd=function(n){return n.paths=[],n.children||(n.children=[]),n},function(){var n={179:0};i.O.j=function(t){return 0===n[t]};var t=function(t,e){var o,r,s=e[0],a=e[1],u=e[2],c=0;if(s.some((function(t){return 0!==n[t]}))){for(o in a)i.o(a,o)&&(i.m[o]=a[o]);if(u)var l=u(i)}for(t&&t(e);c<s.length;c++)r=s[c],i.o(n,r)&&n[r]&&n[r][0](),n[r]=0;return i.O(l)},e=self.webpackChunkpixi_typescript_boilerplate=self.webpackChunkpixi_typescript_boilerplate||[];e.forEach(t.bind(null,0)),e.push=t.bind(null,e.push.bind(e))}();var o=i.O(void 0,[372],(function(){return i(661)}));o=i.O(o)}();